{
	"$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
	"name": "Amiga Blitz Basic 2",
	"patterns": [
    {
      "include": "#keywords"
    },
    {
      "include": "#strings"
    },
    {
      "include": "#comments"
    },
    {
      "include": "#commands"
    },
    {
      "include": "#numbers"
    }
  ],
	"repository": {
		"comments": {
      "name": "comment.line.abb2",
      "match": ";.*"
    },
		"keywords": {
      "patterns": [
        {
          "name": "storage.type.abb2",
          "match": "(?i)\\b(Macro|End Macro|Function|End Function|Statement|End Statement|Global|Local|Const|Dim|Type|End Type)\\b"
        },
        {
          "match": "(?i)\\b(Shared)\\b",
          "name": "storage.modifier.abb2"
        },
        {
          "name": "keyword.control.abb2",
          "match": "(?i)\\b(SetInt|End SetInt|Break|Case|Default|Else|End|EndIf|Else|For|Forever|If|Then|Next|Repeat|Select|Step|To|Until|Wend|While|Pop|Use)\\b"
        },
        {
          "name": "keyword.operator.abb2",
          "match": "(?i)\\b(And|Not|Or|XOr|MOD|LSR|LSL|ASR|ASL|JSR|BSR|RTS|On|Off|BitSet|BitClr|BitChg|BitTst)\\b"
        },
        {
          "name": "constant.language.abb2",
          "match": "(?i)#([\\w_]+)\\b"
        },
        {
          "name": "meta.preprocessor.abb2",
          "match": "(?i)\\b(AMIGA|QAMIGA|BLITZ|CEND|CNIF|CSIF|CELSE|CERR|INCLUDE|INCBIN|INCDIR|XINCLUDE|XINCDIR|EVEN|DEFTYPE|NEWTYPE|USEPATH|Runerrson|Runerrsoff|USED|Addr|Maximum)\\b"
        },
        {
          "name": "keyword.operator.abb2.assembly",
          "match": "(?i)\\b(ADD|ADDX|ANDI|ASR|BCHG|BCLR|BEQ|BRA|BSET|BTST|CHK|CLR|CMP|CMP|CMPA|CMPI|CMPM|CMPMEM|DBcc|DBF|DBRA|DCB|DIVS|DIVU|EOR|EORI|EXG|EXT|ILLEGAL|JMP|JSR|LEA|LINK|LSL|LSR|MOVE|MOVEA|MOVEM|MOVEP|MOVEQ|MULS|MULU|NBCD|NEG|NEGX|NOP|NOT|ORI|PEA|RESET|ROL|ROR|ROXL|ROXR|RTE|RTR|RTS|SBCD|Scc|SEQ|SNE|STOP|SUB|SUBA|SUBI|SUBQ|SUBX|SWAP|TAS|TRAP|TRAPV|TST|UNLK)\\b"
        }
      ]
    },
		"commands": {
      "patterns": [
        {
          "name": "entity.name.section.abb2",
          "match": "\\b([a-zA-Z][a-zA-Z0-9]*:)"
        },
        {
          "match": "(\\b\\w[\\w\\d\\.]*|[^\\w]@[\\w\\d]*)_\\(",
          "captures":
          {
            "1":
            {
              "name": "entity.name.function.abb2.os"
            }
          }
        },
        {
          "match": "(\\b\\w[\\w\\d\\.]*|[^\\w]@[\\w\\d]*)\\(",
          "captures":
          {
            "1":
            {
              "name": "entity.name.function.abb2"
            }
          }
        },
        {
          "match": "(\\b\\w[\\w\\d]*|[^\\w]@[\\w\\d]*)\\{",
          "captures":
          {
            "1":
            {
              "name": "entity.name.function.abb2.user"
            }
          }
        },
        {
          "name": "support.function.abb2.os",
          "match": "\\b([A-Z][a-zA-Z0-9]+)_\\b"
        },
        {
          "name": "support.function.abb2.statement",
          "match": "\\b([A-Z][a-zA-Z0-9]+)\\b"
        },
        {
          "name": "variable.other.abb2",
          "match": "\\b([a-z_][a-zA-Z0-9_]*)\\b"
        }
      ]
    },
		"strings": {
      "name": "string.quoted.double.abb2",
      "begin": "\"",
      "end": "\"",
      "patterns": [
        {
          "name": "constant.character.escape.abb2",
          "match": "\\\\."
        }
      ]
    },
		"numbers": {
      "patterns": [
        {
          "name": "constant.numeric.dec.abb2",
          "match": "\\b\\d+(\\.\\d+)?\\b"
        },
        {
          "name": "constant.numeric.hex.abb2",
          "match": "\\$[0-9a-fA-F]+\\b"
        }
      ]
	  }
  },
	"scopeName": "source.abb2"
}